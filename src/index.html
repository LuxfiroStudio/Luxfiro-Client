<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Selvania Launcher</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self';">
    <link rel="stylesheet" href="assets/css/index.css">
    <link rel="stylesheet" href="assets/css/launcher.css">
</head>
<body>

    <!-- üåü Splash Screen -->
    <div id="splash" style="display: none;">
        <img class="splash" src="assets/images/icon.png" />
        <p class="splash-message"></p>
        <p class="splash-author"><span class="author"></span></p>
        <p class="message">Buscando actualizaci√≥n</p>
        <progress value="0" max="0" class="progress"></progress>
    </div>

    <!-- üéÆ Launcher Principal -->
    <div id="background-container" style="position: relative; width: 100%; height: 100vh;">
        <div class="overlay">
            <h1>Selvania Launcher</h1>

            <!-- Instancia -->
            <select id="instance-select"></select>
            <button id="launch-button">Jugar</button>

            <!-- Slider de RAM -->
            <section>
                <h2>Ajuste de RAM</h2>
                <div id="slider" class="slider" min="0" max="16" step="1">
                    <div class="slider-line"><span></span></div>
                    <div class="slider-touch-left"></div>
                    <div class="slider-touch-right"></div>
                </div>
            </section>
        </div>
    </div>

    <!-- üì¶ Popup de Selecci√≥n de Instancia -->
    <div class="instance-popup" id="popupInstances" style="display: none;">
        <div class="instances-tab">
            <div class="close-popup icon-close" onclick="closePopup()"></div>
            <p>Elige tu instancia</p>
            <div class="instances-List"></div>
        </div>
    </div>

    <!-- üìú Scripts -->
    <script src="assets/js/index.js" type="module"></script>
    <script type="module">
        import Slider, { loadInstances } from './assets/js/slider.js';

        document.addEventListener('DOMContentLoaded', () => {
            const slider = new Slider('#slider');
            slider.on('change', (min, max) => {
                console.log(`RAM seleccionada: ${min} GB - ${max} GB`);
            });

            loadInstances();
        });

        // Funciones de popup
        window.openPopup = function () {
            document.getElementById("popupInstances").style.display = "block";
        }

        window.closePopup = function () {
            document.getElementById("popupInstances").style.display = "none";
        }
    </script>

</body>
</html>
